(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{139:function(e,t,a){},140:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a(31),s=a.n(n),r=a(6),l=a(17),o=a(3),i=function(){return window.localStorage.getItem("token")},j=function(){var e=i();if(!e)return!1;var t=e.split(".");return!(t.length<3)&&JSON.parse(atob(t[1]))},b=function(){var e=i();if(!e)return!1;var t=e.split(".");if(t.length<3)return!1;var a=atob(t[1]);return JSON.parse(a)},u=a.p+"static/media/hero.8fb98ff5.jpg",d=a(0),m=function(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"hero-container",children:[Object(d.jsx)("img",{className:"hero",src:u,alt:"couple confessing love"}),Object(d.jsxs)("p",{className:"hero-text",children:['Welcome to Ani-mate! An exclisive dating site for the 2D lonely hearts looking for true love. Tired of not finding "the one" in your universe? Too busy fighting those villians to meet someone new? Then look no further! Register above to start your journey. ',Object(d.jsx)("br",{})," Believe it!"]})]})})},h=a.p+"static/media/whitelogo.2cf7deec.png",O=function(){var e=Object(o.f)(),t=Object(o.g)(),a=(t.id,t.user);return Object(d.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light",children:Object(d.jsxs)("div",{className:"container-fluid",children:[Object(d.jsxs)("span",{className:"navbar-brand mb-0 h1",children:[Object(d.jsx)("img",{src:h,alt:"ani-mate logo",width:"40",height:"35",className:"d-inline-block align-text-top logo-img"}),"Ani-mate"]}),Object(d.jsx)("button",{className:"navbar-toggler navbar-dark",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(d.jsx)("span",{className:"navbar-toggler-icon navbar-dark"})}),Object(d.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNavAltMarkup",children:Object(d.jsxs)("div",{className:"navbar-nav ms-auto",children:[Object(d.jsx)(l.b,{to:"/",className:"nav-link",children:"Home"}),j()?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(l.b,{to:"/all",className:"nav-link",children:"Profiles"}),Object(d.jsx)(l.b,{to:"/personas/myprofile/".concat(a),className:"nav-link",children:"My Profile"}),Object(d.jsx)("button",{className:"nav-link logout-btn",onClick:function(){window.localStorage.removeItem("token"),e("/"),window.location.reload()},children:"Logout"})]}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(l.b,{to:"/register",className:"nav-link",children:"Register"}),Object(d.jsx)(l.b,{to:"/login",className:"nav-link",children:"Login"})]})]})})]})})},p=a(20),x=a(12),f=a(5),v=a.n(f),g=a(10),N=a(9),y=a.n(N),w=function(e){var t=e.handlePicChange,a=e.value,c=function(){var e=Object(g.a)(v.a.mark((function e(a){var c,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=new FormData).append("file",a.target.files[0]),c.append("upload_preset","n7g57bta"),e.next=5,y.a.post("https://api.cloudinary.com/v1_1/dfic7ddu8/image/upload",c);case 5:n=e.sent,t(n.data.url);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsx)("div",{children:a?Object(d.jsx)("div",{children:Object(d.jsx)("img",{className:"image-view",src:a,alt:"profile"})}):Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",children:"Profile Picture:"}),Object(d.jsx)("input",{className:"form-control",type:"file",onChange:c})]})})},k=function(e){return y.a.get("/personas/myprofile/".concat(e,"/"))},C=function(){var e=Object(o.f)(),t=Object(c.useState)({profile:""}),n=Object(r.a)(t,2),s=n[0],l=n[1],j=b().sub;console.log("this is user",j);var u=function(){var e=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k(j);case 3:t=e.sent,l({profile:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();console.log("this is personaID",s.profile.id),Object(c.useEffect)((function(){u()}),[]);var m=Object(c.useState)({user:{id:"",email:"",username:""}}),h=Object(r.a)(m,2),O=h[0],f=h[1],N=Object(c.useState)({user:"",name:"",age:"",height:"",city:"",gender:"",sexuality:"",occupation:"",bio:"",profile_pic:""}),C=Object(r.a)(N,2),S=C[0],D=C[1],P=function(){var e=Object(g.a)(v.a.mark((function e(){var t,c,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=b().sub,console.log("the user id is:",t),c=a(9),n={method:"get",url:"http://localhost:8000/accounts/".concat(t,"/"),headers:{}},e.next=6,c(n).then((function(e){f({user:e.data}),console.log(JSON.stringify(e.data)),D(Object(x.a)(Object(x.a)({},S),{},{user:e.data.id}))})).catch((function(e){console.error("Something not right getting the user",e)}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){P()}),[]);var A=s.profile.id,E=function(e,t){var a={headers:{Authorization:"Bearer ".concat(i())}};return console.log("this is personaID in getProfileAPI",e),y.a.put("http://localhost:8000/personas/".concat(e,"/"),t,a)},B=function(){var t=Object(g.a)(v.a.mark((function t(a){var c,n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),c=b().sub,t.prev=2,t.next=5,E(A,S);case 5:n=t.sent,console.log("this is response",n),e("/personas/myprofile/".concat(c)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),console.error("Error updating persona data",t.t0);case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}(),F=function(e){D(Object(x.a)(Object(x.a)({},S),{},Object(p.a)({},e.target.name,e.target.value)))};return console.log("handleChange",S),Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"new-profile-container",children:Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{className:"col-lg-3"}),Object(d.jsx)("div",{className:"col-lg-6",children:Object(d.jsxs)("form",{children:[Object(d.jsxs)("div",{className:"row g-3",children:[Object(d.jsxs)("div",{className:"col-md-6",children:[Object(d.jsx)("label",{className:"",children:"Username:"}),Object(d.jsx)("input",{readOnly:!0,name:"user",className:"form-control-plaintext",value:O.user.username})]}),Object(d.jsxs)("div",{className:"col-md-6",children:[Object(d.jsx)("label",{className:"form-label",children:"Name:"}),Object(d.jsx)("input",{type:"text",className:"form-control",placeholder:"Ichigo",name:"name",value:S.name,onChange:F})]})]}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{className:"row g-3",children:[Object(d.jsxs)("div",{className:"col-md-6",children:[Object(d.jsx)("label",{className:"form-label",children:"Age:"}),Object(d.jsx)("input",{type:"text",className:"form-control",placeholder:"21",name:"age",value:S.age,onChange:F})]}),Object(d.jsxs)("div",{className:"col-md-6",children:[Object(d.jsx)("label",{className:"form-label",children:"Height (cm):"}),Object(d.jsx)("input",{className:"form-control",placeholder:"152",name:"height",value:S.height,onChange:F})]})]}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{className:"row g-3",children:[Object(d.jsxs)("div",{className:"col-md-6",children:[Object(d.jsx)("label",{className:"form-label",children:"City:"}),Object(d.jsx)("input",{className:"form-control",placeholder:"Konoha",name:"city",value:S.city,onChange:F})]}),Object(d.jsxs)("div",{className:"col-md-6",children:[Object(d.jsx)("label",{className:"form-label",children:"Occupation:"}),Object(d.jsx)("input",{className:"form-control",placeholder:"Chef",name:"occupation",value:S.occupation,onChange:F})]})]}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{className:"row g-3",children:[Object(d.jsxs)("div",{className:"col-md-6",children:[Object(d.jsx)("label",{className:"form-label",children:"Gender:"}),Object(d.jsxs)("select",{className:"form-select","aria-label":"Default select example",name:"gender",value:S.gender,onChange:F,children:[Object(d.jsx)("option",{children:"Select Gender"}),Object(d.jsx)("option",{value:"Male",children:"Male"}),Object(d.jsx)("option",{value:"Female",children:"Female"}),Object(d.jsx)("option",{value:"Nonbinary",children:"Non-Binary"}),Object(d.jsx)("option",{value:"Other",children:"Other"})]})]}),Object(d.jsxs)("div",{className:"col-md-6",children:[Object(d.jsx)("label",{className:"form-label",children:"Sexuality:"}),Object(d.jsxs)("select",{className:"form-select","aria-label":"Default select example",name:"sexuality",value:S.sexuality,onChange:F,children:[Object(d.jsx)("option",{children:"Select Sexuality"}),Object(d.jsx)("option",{value:"Straight",children:"Straight"}),Object(d.jsx)("option",{value:"Gay",children:"Gay"}),Object(d.jsx)("option",{value:"Bisexual",children:"Bisexual"}),Object(d.jsx)("option",{value:"Asexual",children:"Asexual"}),Object(d.jsx)("option",{value:"Pansexual",children:"Pansexual"}),Object(d.jsx)("option",{value:"Other",children:"Other"})]})]})]}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",children:"Enter Bio:"}),Object(d.jsx)("textarea",{className:"form-control",placeholder:"I love walks in the rain...",name:"bio",value:S.bio,onChange:F,rows:"3"})]}),Object(d.jsx)("br",{}),Object(d.jsx)(w,{value:S.profile_pic,name:"profile_pic",handlePicChange:function(e){D(Object(x.a)(Object(x.a)({},S),{},{profile_pic:e}))}}),Object(d.jsx)("br",{}),Object(d.jsx)("div",{className:"d-grid gap-2 d-md-flex justify-content-md-end",children:Object(d.jsx)("button",{type:"submit",onClick:B,className:"btn btn-outline-success mb-3",children:"Update Profile"})})]})}),Object(d.jsx)("div",{className:"col-lg-3"})]})})})};var S=function(e){var t=e.closeModel,a=Object(o.f)();return Object(d.jsx)("div",{className:"modalBackground",children:Object(d.jsxs)("div",{className:"modalContainer",children:[Object(d.jsxs)("div",{className:"newUser",children:[Object(d.jsx)("h3",{children:"First time logging in?"}),Object(d.jsx)("p",{children:"Please make sure you set up your profile"}),Object(d.jsx)("div",{className:"d-grid gap-2 d-md-flex justify-content-md-end",children:Object(d.jsx)("button",{className:"btn btn-outline-success mb-3",onClick:function(){return t(!1)},children:"New Profile"})})]}),Object(d.jsxs)("div",{className:"returnUser",children:[Object(d.jsx)("h3",{children:"Return user?"}),Object(d.jsx)("p",{children:"Welcome back! Would you like to see your profile or find a potential match?"}),Object(d.jsxs)("div",{className:"d-grid gap-2 d-md-flex justify-content-md-end",children:[Object(d.jsx)("button",{className:"btn btn-outline-success mb-3",onClick:function(){return a("/all")},children:"See Matches"}),Object(d.jsx)("button",{className:"btn btn-outline-success mb-3",onClick:function(){return a("/personas/myprofile/:user")},children:"My Profile"})]})]})]})})},D=function(){var e=Object(o.f)(),t=Object(c.useState)(!0),n=Object(r.a)(t,2),s=n[0],l=n[1],i=Object(c.useState)({user:{id:"",email:"",username:""}}),j=Object(r.a)(i,2),u=j[0],m=j[1],h=Object(c.useState)({user:"",name:"",age:"",height:"",city:"",gender:"",sexuality:"",occupation:"",bio:"",profile_pic:""}),O=Object(r.a)(h,2),f=O[0],N=O[1],k=function(){var e=Object(g.a)(v.a.mark((function e(){var t,c,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=b().sub,console.log("the user id is:",t),c=a(9),n={method:"get",url:"/accounts/".concat(t,"/"),headers:{}},e.next=6,c(n).then((function(e){m({user:e.data}),console.log(JSON.stringify(e.data)),N(Object(x.a)(Object(x.a)({},f),{},{user:e.data.id}))})).catch((function(e){console.error("Something not right getting the user",e)}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){k()}),[]);var C=function(){var t=Object(g.a)(v.a.mark((function t(a){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,y.a.post("/personas/",f);case 4:console.log(f),e("/personas/myprofile/:user"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.error("Error creating persona data",t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),D=function(e){N(Object(x.a)(Object(x.a)({},f),{},Object(p.a)({},e.target.name,e.target.value)))};console.log("handleChange",f);var P=u.user.id;return console.log("can i grab it?",P),Object(d.jsxs)(d.Fragment,{children:[s&&Object(d.jsx)(S,{closeModel:l}),Object(d.jsx)("div",{className:"new-profile-container",children:Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{className:"col-lg-3"}),Object(d.jsx)("div",{className:"col-lg-6",children:Object(d.jsxs)("form",{children:[Object(d.jsxs)("div",{className:"row g-3",children:[Object(d.jsxs)("div",{className:"col-md-6",children:[Object(d.jsx)("label",{className:"",children:"Username:"}),Object(d.jsx)("input",{readOnly:!0,name:"user",className:"form-control-plaintext",value:u.user.username})]}),Object(d.jsxs)("div",{className:"col-md-6",children:[Object(d.jsx)("label",{className:"form-label",children:"Name:"}),Object(d.jsx)("input",{type:"text",className:"form-control",placeholder:"Ichigo",name:"name",value:f.name,onChange:D})]})]}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{className:"row g-3",children:[Object(d.jsxs)("div",{className:"col-md-6",children:[Object(d.jsx)("label",{className:"form-label",children:"Age:"}),Object(d.jsx)("input",{type:"text",className:"form-control",placeholder:"21",name:"age",value:f.age,onChange:D})]}),Object(d.jsxs)("div",{className:"col-md-6",children:[Object(d.jsx)("label",{className:"form-label",children:"Height (cm):"}),Object(d.jsx)("input",{className:"form-control",placeholder:"152",name:"height",value:f.height,onChange:D})]})]}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{className:"row g-3",children:[Object(d.jsxs)("div",{className:"col-md-6",children:[Object(d.jsx)("label",{className:"form-label",children:"City:"}),Object(d.jsx)("input",{className:"form-control",placeholder:"Konoha",name:"city",value:f.city,onChange:D})]}),Object(d.jsxs)("div",{className:"col-md-6",children:[Object(d.jsx)("label",{className:"form-label",children:"Occupation:"}),Object(d.jsx)("input",{className:"form-control",placeholder:"Chef",name:"occupation",value:f.occupation,onChange:D})]})]}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{className:"row g-3",children:[Object(d.jsxs)("div",{className:"col-md-6",children:[Object(d.jsx)("label",{className:"form-label",children:"Gender:"}),Object(d.jsxs)("select",{className:"form-select","aria-label":"Default select example",name:"gender",value:f.gender,onChange:D,children:[Object(d.jsx)("option",{children:"Select Gender"}),Object(d.jsx)("option",{value:"Male",children:"Male"}),Object(d.jsx)("option",{value:"Female",children:"Female"}),Object(d.jsx)("option",{value:"Nonbinary",children:"Non-Binary"}),Object(d.jsx)("option",{value:"Other",children:"Other"})]})]}),Object(d.jsxs)("div",{className:"col-md-6",children:[Object(d.jsx)("label",{className:"form-label",children:"Sexuality:"}),Object(d.jsxs)("select",{className:"form-select","aria-label":"Default select example",name:"sexuality",value:f.sexuality,onChange:D,children:[Object(d.jsx)("option",{children:"Select Sexuality"}),Object(d.jsx)("option",{value:"Straight",children:"Straight"}),Object(d.jsx)("option",{value:"Gay",children:"Gay"}),Object(d.jsx)("option",{value:"Bisexual",children:"Bisexual"}),Object(d.jsx)("option",{value:"Asexual",children:"Asexual"}),Object(d.jsx)("option",{value:"Pansexual",children:"Pansexual"}),Object(d.jsx)("option",{value:"Other",children:"Other"})]})]})]}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",children:"Enter Bio:"}),Object(d.jsx)("textarea",{className:"form-control",placeholder:"I love walks in the rain...",name:"bio",value:f.bio,onChange:D,rows:"3"})]}),Object(d.jsx)("br",{}),Object(d.jsx)(w,{value:f.profile_pic,name:"profile_pic",handlePicChange:function(e){N(Object(x.a)(Object(x.a)({},f),{},{profile_pic:e}))}}),Object(d.jsx)("br",{}),Object(d.jsx)("div",{className:"d-grid gap-2 d-md-flex justify-content-md-end",children:Object(d.jsx)("button",{type:"submit",onClick:C,className:"btn btn-outline-success mb-3",children:"Create New Profile"})})]})}),Object(d.jsx)("div",{className:"col-lg-3"})]})})]})},P="/personas",A=function(e){return y.a.get("".concat(P,"/").concat(e,"/"))},E=y.a.create({baseURL:"/personas/",headers:{Authorization:"Bearer ".concat(i())}}),B=a(79),F=a.n(B),_=function(){var e=Object(c.useState)({profile:[]}),t=Object(r.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)({search:""}),l=Object(r.a)(s,2),i=l[0],j=l[1],b=Object(o.f)(),u=function(){var e=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("".concat(P,"/"));case 3:t=e.sent,n({profile:t.data}),console.log("this is response.data",t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("An error occured getting all profiles",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){u()}),[]),console.log("this is profiles",a);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"search-bar",children:[Object(d.jsx)(F.a,{value:i.search,onChange:function(e){return j({search:e})},onRequestSearch:function(){return i.search,b({pathname:"/search/",search:"?search="+i.search}),void window.location.reload()},style:{maxWidth:500}}),Object(d.jsx)("div",{id:"passwordHelpBlock",className:"form-text",children:"Refine your matches! Search by age, gender, sexuality, city or occupation."})]}),Object(d.jsx)("section",{children:a.profile.map((function(e){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h1",{children:e.name},e.id),Object(d.jsx)("h2",{children:e.age}),Object(d.jsx)("img",{src:e.profile_pic,alt:"profile"}),Object(d.jsx)("button",{className:"btn btn-outline-success mb-3",onClick:function(){return b("/personas/".concat(e.id,"/"))},children:"See More"})]})}))})]})},I="/accounts",M=function(){var e=Object(o.f)(),t=Object(c.useState)({profile:""}),a=Object(r.a)(t,2),n=a[0],s=a[1],l=b().sub;console.log("this is user",l);var i=function(){var e=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k(l);case 3:t=e.sent,s({profile:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),j=function(){var t=Object(g.a)(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a=l,y.a.delete("".concat(I,"/").concat(a,"/"));case 3:e("/register"),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.error("failed deleting the user",t.t0);case 9:case"end":return t.stop()}var a}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}();Object(c.useEffect)((function(){i()}),[]);var u=b().sub===n.profile.user;return console.log("isOwner is",u),Object(d.jsxs)(d.Fragment,{children:[" ",Object(d.jsxs)("div",{children:[" ",Object(d.jsxs)("figure",{children:[Object(d.jsx)("img",{src:n.profile.profile_pic,alt:"the user profile"})," "]})," "]}),Object(d.jsx)("h1",{children:n.profile.name}),Object(d.jsxs)("h2",{children:[n.profile.age," years old"]}),Object(d.jsxs)("h3",{children:["City: ",n.profile.city]}),Object(d.jsxs)("h3",{children:["I work as a: ",n.profile.occupation]}),Object(d.jsxs)("p",{children:["Bio: ",n.profile.bio]}),Object(d.jsxs)("p",{children:["I identify as ",n.profile.gender," and ",n.profile.sexuality]}),Object(d.jsxs)("p",{children:["I am ",n.profile.height," cm"]}),u&&Object(d.jsx)("button",{className:"btn btn-outline-success mb-3",onClick:function(){return e("/personas/myprofile/:user/edit")},children:"Edit"})," ",u&&Object(d.jsx)("button",{className:"btn btn-outline-success mb-3",onClick:j,children:"Delete Profile"})," ",Object(d.jsx)("h3",{children:"Comments"})]})},G=function(){var e=Object(o.f)(),t=Object(c.useState)({formData:{username:"",password:""}}),a=Object(r.a)(t,2),n=a[0],s=a[1],l=function(e){var t=Object(x.a)(Object(x.a)({},n.formData),{},Object(p.a)({},e.target.name,e.target.value));console.log("this is a log of handleChange",t),s({formData:t})},i=function(){var t=Object(g.a)(v.a.mark((function t(a){var c,s;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,y.a.post("/accounts/login/",n.formData);case 4:c=t.sent,s=c.data,console.log("data",s),console.log(n.formData),r=s.token,window.localStorage.setItem("token",r),console.log("TOKEN",r),e("/newprofile"),window.location.reload(),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),console.error("Error logging in user",t.t0);case 16:case"end":return t.stop()}var r}),t,null,[[1,13]])})));return function(e){return t.apply(this,arguments)}}();return Object(d.jsx)("div",{className:"login-container",children:Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{className:"col-lg-3"}),Object(d.jsx)("div",{className:"col-lg-6",children:Object(d.jsxs)("form",{children:[Object(d.jsx)("h1",{children:"Login"}),Object(d.jsx)("label",{className:"form-label",children:"Username:"}),Object(d.jsx)("input",{className:"form-control",type:"text",name:"username",value:n.formData.username,onChange:l}),Object(d.jsx)("br",{}),Object(d.jsx)("label",{className:"form-label",children:"Password:"}),Object(d.jsx)("input",{className:"form-control",type:"password",name:"password",value:n.formData.password,onChange:l}),Object(d.jsx)("br",{}),Object(d.jsx)("div",{className:"d-grid gap-2 d-md-flex justify-content-md-end",children:Object(d.jsx)("button",{className:"btn btn-outline-success mb-3",onClick:i,children:"Login"})})]})}),Object(d.jsx)("div",{className:"col-lg-3"})]})})},R=function(){var e=Object(o.f)(),t=Object(c.useState)({formData:{username:"",email:"",password:"",password_confirmation:""}}),a=Object(r.a)(t,2),n=a[0],s=a[1],l=function(e){var t=Object(x.a)(Object(x.a)({},n.formData),{},Object(p.a)({},e.target.name,e.target.value));console.log("this is a log of handleChange",t),s({formData:t})},i=function(){var t=Object(g.a)(v.a.mark((function t(a){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,y.a.post("/accounts/register/",n.formData);case 4:console.log(n),e("/login"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.error("Error registering user",t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}();return Object(d.jsx)("div",{className:"reg-container",children:Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{className:"col-lg-3"}),Object(d.jsx)("div",{className:"col-lg-6",children:Object(d.jsxs)("form",{children:[Object(d.jsx)("h1",{children:"Register"}),Object(d.jsx)("label",{className:"form-label",children:"Username:"}),Object(d.jsx)("input",{className:"form-control",type:"text",name:"username",value:n.formData.username,onChange:l}),Object(d.jsx)("br",{}),Object(d.jsx)("label",{className:"form-label",children:"Email Address:"}),Object(d.jsx)("input",{className:"form-control",type:"text",name:"email",value:n.formData.email,onChange:l}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{className:"row g-3",children:[Object(d.jsxs)("div",{className:"col-md-6",children:[Object(d.jsx)("label",{className:"form-label",children:"Password:"}),Object(d.jsx)("input",{className:"form-control",type:"password",name:"password",value:n.formData.password,onChange:l})]}),Object(d.jsxs)("div",{className:"col-md-6",children:[Object(d.jsx)("label",{className:"form-label",children:"Confirm Password:"}),Object(d.jsx)("input",{className:"form-control",type:"password",name:"password_confirmation",value:n.formData.password_confirmation,onChange:l})]}),Object(d.jsx)("div",{id:"passwordHelpBlock",className:"form-text",children:"Your password must be 8-20 characters long, contain letters and numbers, and must not contain spaces, special characters, or emoji."})]}),Object(d.jsx)("br",{}),Object(d.jsx)("div",{className:"d-grid gap-2 d-md-flex justify-content-md-end",children:Object(d.jsx)("button",{className:"btn btn-outline-success mb-3",onClick:i,children:"Register"})})]})}),Object(d.jsx)("div",{className:"col-lg-3"})]})})},U=function(){var e=Object(o.g)().id,t=Object(c.useState)({profile:""}),a=Object(r.a)(t,2),n=a[0],s=a[1],l=function(){var t=Object(g.a)(v.a.mark((function t(){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,A(e);case 3:a=t.sent,s({profile:a.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error("An error occurred fetching profile ".concat(e),t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){console.log("are we having a useEffet"),l()}),[]),Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("section",{children:[Object(d.jsx)("h1",{children:n.profile.name}),Object(d.jsxs)("h2",{children:[n.profile.age," years old"]}),Object(d.jsxs)("h3",{children:["City: ",n.profile.city]}),Object(d.jsxs)("h3",{children:["I work as a: ",n.profile.occupation]}),Object(d.jsxs)("p",{children:["Bio: ",n.profile.bio]}),Object(d.jsx)("h3",{children:"Comments"})]})})},J=function(){var e=Object(o.f)(),t=Object(c.useState)({profiles:[]}),a=Object(r.a)(t,2),n=a[0],s=a[1],l=function(){var e=Object(g.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{E.get("search/"+window.location.search).then((function(e){s({profiles:e.data})}))}catch(t){console.error("An error occured getting the search",t)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){l()}),[]);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"back-btn",children:Object(d.jsx)("button",{className:"btn btn-outline-success mb-3",onClick:function(){e("/all")},children:"Go Back"})}),Object(d.jsx)("section",{children:n.profiles.map((function(t){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h1",{children:t.name},t.id),Object(d.jsx)("h2",{children:t.age}),Object(d.jsx)("img",{src:t.profile_pic,alt:"profile"}),Object(d.jsx)("button",{className:"btn btn-outline-success mb-3",onClick:function(){return e("/personas/".concat(t.id,"/"))},children:"See More"})]})}))})]})};var H=function(){var e=Object(c.useState)(!1),t=Object(r.a)(e,2),a=t[0],n=t[1];return Object(c.useEffect)((function(){j()&&n(!0)}),[]),Object(d.jsxs)(l.a,{children:[Object(d.jsx)(O,{isAuthenticated:a}),Object(d.jsxs)(o.c,{children:[Object(d.jsx)(o.a,{exact:!0,path:"/",element:Object(d.jsx)(m,{})}),Object(d.jsx)(o.a,{path:"/all",element:Object(d.jsx)(_,{})}),Object(d.jsx)(o.a,{path:"/search",element:Object(d.jsx)(J,{})}),Object(d.jsx)(o.a,{path:"/personas/myprofile/:user",element:Object(d.jsx)(M,{})}),Object(d.jsx)(o.a,{path:"/register",element:Object(d.jsx)(R,{})}),Object(d.jsx)(o.a,{path:"/login",element:Object(d.jsx)(G,{})}),Object(d.jsx)(o.a,{path:"/newprofile",element:Object(d.jsx)(D,{})}),Object(d.jsx)(o.a,{path:"/personas/myprofile/:user/edit",element:Object(d.jsx)(C,{})}),Object(d.jsx)(o.a,{path:"/personas/:id",element:Object(d.jsx)(U,{})})]})]})};a(139);s.a.render(Object(d.jsx)(H,{}),document.getElementById("root"))}},[[140,1,2]]]);
//# sourceMappingURL=main.c078d7bf.chunk.js.map